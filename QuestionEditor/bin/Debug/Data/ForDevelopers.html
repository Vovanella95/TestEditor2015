<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Help For Developers</title>
</head>
<body>
    <header>Справка для разработчиков</header>
    <p>
        <h3>Содержание</h3>
        <h4>1. Назначение проекта</h4>
        <h4>2. Структура проекта</h4>
        <h4>3. Общий принцип работы</h4>
        <h4>4. Конвертер тестов</h4>
        <h4>5. Редактор тестов</h4>
        <h5>5.1. Представления</h5>
        <h5>5.2. Методы</h5>
        <h4>6. Внесение изменений</h4>
    </p><hr />
    <p>
        <h3>1. Назначение проекта</h3>
        Проект спроектирован как дополнение к системе тестирования. Назначение его состоит в конвертации старых тестов из формата <b>.qtf</b> в
        более новый и многофункциональный формат <b>.xml</b>. Проект состоит из следующих основных састей:
        <h4>
            *Конвертера тестов из старого формата в новый
        </h4>
        <h4>
            *Редактора тестов
        </h4>
        Каждый из этих подпроектов независим друг от друга, но вместе дает полную функциональность для работы с системой тестирования. Далее подробнее
        остановимся на каждой из этих компонентов.
    </p><hr />

    <p>
        <h3>2. Структура проекта</h3>
        <center><img src="img/1.PNG" /></center><br />
        На данном этапе разработки проект имеет следующую структуру:
        <h4>*Класс Converter представляет собой класс, реализующий конвертацию тестов из старого формата в новый</h4>
        <h4>
            *Папка Views содержит в себе все представления нашего проекта и методов обработки данных<br />
            <center><img src="img/2.PNG" /></center>
        </h4>
        <h4>
            *Папка Images содержит изображения, необходимые для представлений
        </h4>
    </p><hr />
    <p>
        <h3>3. Общий принцип работы</h3>
        Чтобы однозначно и правильно понять, как работает приложение - прочтите данный пункт внимательно, ибо это очень важно.
        При запуске приложения запускается главное представление <b>MainWindow</b>, которое содержит в себе основное меню и поле
        редактирования тестов. Конвертация тестов из старого формата в новый предоставлена кнопкой <b>Конвертирование</b>, остальная
        же функциональность исключительно для редактирования тестов.
        <h4>
            *При создании нового теста очищаются все данные на форме, такие как список вопросов, преамбула и другие компоненты. В
            таком случае вы создаете тест с нуля. При сохранении такого теста вам будет предоставлена возможность выбрать, куда
            сохранить тест.
        </h4>
        <h4>
            *При открытии существующего теста на форму загрузятся все нужные данные, и с ним можно работать точно так же, как и с
            созданным.
        </h4>
        <h4>
            *При открытии сконвертированного теста могут возникнуть проблемы с картинками. <label style="color:red">
                ВАЖНО, при
                открытии преобразованного в новый формат теста, папка с изображениями должна находиться в той же директории, что и
                сам файл теста, и папка должна иметь такое же название, как файл теста.
            </label> Например
            <center><img src="img/3.PNG" /></center><br />
            В противном случае каждая не найденная картинка будет сопровождаться предупреждающим окном о отсутствии картинки при
            конвертировании и не будет отображаться в <b>препросмотре</b>.
        </h4>

        <h4>
            Далее немного о препросмотре. При нажатии элемента меню "препросмотр" создается временный .html файл, который
            демонстрирует, как выглядит наш тест. В это время картинки копируются в временную папку. Это вспомогательная
            возможность позволяет посмотреть, как выглядит наш тест и проверить, все ли отображается верно (картинки, поля ввода...)
        </h4>
        Не забывая вышеперечисленные принципы уже можно понять суть работы приложения и вносить в него изменения. Далее будет разобрана
        каждая деталь по-отдельности.
    </p><hr />
    <p>
        <h3>4. Конвертер тестов</h3>
        Простыми словами конвертер тестов имеет один важный публичный метод <b>Dowork(string input, string output)</b>, который считывает
        файл input, преобразовывает его и возвращает файл output. Принцип его работы таков: считывается файл, разбивается на вопросы, далее
        каждый вопрос преобразовывается в XML код, после чего все полученное "складывается воедино" и получаем готовый тест в новом виде.
        <br />
        Подробнее о каждом методе:
        <br /><b>void DoWork(string, string)</b> разбивает тест на кусочки (вопросы), после чего к каждому вопросу применяется <b>XElement ParseString(string str)</b>
        , который каждый вопрос преобразовывает в новый формат по отдельности, разбивая его на еще более мелкие частички. В результате получаем
        готовый XML код.
        <br /><br />
        Вспомогательные функциии <b>string RemoveTags(string src)</b> - удаляет из строки html разметку. <b>string[] Split(string src, string separator)</b>
        - разбивает строку строковым сепаратором.
    </p>
    <p>
        <h3>5. Редактор тестов</h3>
        Основным функционалом редактора тестов являются методы класса <b>MainWindow.xaml.cs</b>. Их условно можно разделить на следующие категории:
        <center><img src="img/4.PNG" /></center>
        <h5>
            Helpers - вспомогательные методы
        </h5>
        <h5>
            Events - основные события взаимодействия с UI
        </h5>
        <h5>
            Saving XML - методы для сохранения теста
        </h5>
        <h5>
            OpenFile - методы для открытия тестов
        </h5>
        <h5>
            Redacting Stuff - методы редактирования текста теста
        </h5>
        <h5>
            Preview - методы для препросмотра теста
        </h5>
        Каждую отдельную категорию рассмотрим отдельно позже. Для начала нужно разобрать, какое представление для чего предназначено
        <h3>5.1. Представления</h3>
        Рассмотрим, какое представление для чего нам нужно.
        <h4>
            Authors - страница с авторами проекта
        </h4>
        <h4>
            Choice - страница вставки элемента "выбор" в вопрос
        </h4>
        <h4>
            FontSelector - страница выбора текста для выделенной области
        </h4>
        <h4>
            HowToUseIt - страница справки по проекту
        </h4>
        <h4>
            MainWindiw - главная страница с почти всем функционалом
        </h4>
        <h4>
            Mark - страница редактирования пометки к тесту
        </h4>
        <h4>
            OkMessage - сообщение ОК
        </h4>
        <h4>
            YesNo - окошко выбора Да/Нет
        </h4>
        Каждая страница несет свою функциональность в проект, но основой является страница <b>MainPage.xaml</b>. Ее мы и рассмотри далее
        <h3>5.2. Методы</h3>
        Ранее вы видели условное деление методов страницы MainPage на категории. Сейчас рассмотрим их по-отдельности.
        <h5>
            Helpers - вспомогательные методы. В них входят <b>LoadPreambula()</b> - генерирует начальные параметры для преамбулы теста (дату создания
            , название...), <b>UpdateRemarks()</b> - обновляет текущие пометки преамбулы на форме и другие не значительные методы.
        </h5>
        <h5>
            Events - методы событий взаимодействия с UI. Сюда входят методы типа "развернуть на весь экран", "свернуть список вопросов", и т.д. Особой
            значимости они не несут, поэтому описывать их нет смысла.
        </h5>
        <h5>
            Saving XML - одна из важнейших групп методов. Опишем некоторые важнейшие методы:<br />
            <b>QuestionToElement(Question q)</b> - метод, преобразовывающий Question в XElement для возможности
            сохранить его в файл. <br />
            <b>WriteImages()</b> - записывает изображения из директории, откуда они взяты в директорию с тестом<br />
            <b>TextToString()/ChoiseToString()/InputToString()...</b> - вспомогательные методы для преобразования элемента "текст", "выбор", "ввод"
            в строку
            <b>и другие методы</b>
        </h5>
        <h5>
            Preview - методы для генерации html документа для препросмотра теста. Основной метод XmlToHtml(string src) преобразовывает XML,
            сгенерированный предыдущей группой методов в html и запускает браузер для препросмотра результата. Особых нюансов нет, поэтому
            все должно быть хорошо.
        </h5>
        <h5>
            Redacting Stuff - методы редактирования текста вопроса. (для добавления жирного шрифта, цвета, стиля текста). Каждый метод отвечает
            за маленькую часть, поэтому проблем в них понимании не должно быть.
        </h5>
        <h5>
            Open File - методы для загрузки данных из файла (открытия теста). Основной метод LoadQuestions() загружает даннные на главную форму.
            Другой метод XmlToQuestion() он типа как QuestionToText() только имеет обратное назначение. Остальные методы являются мелкими и не стоят
            отдельного описания.
        </h5>
    </p><hr />
    <p>
        <h3>6. Внесение изменений</h3>
        Для внесения изменений в проект нужна будет среда разработки Visual Studio 2015 или выше. Программа подлежит расширению и добавлению
        новой функциональности. Приятной разработки :)
    </p>
    <footer></footer>
    <style>
        header {
            width: 100%;
            height: 50px;
            background-color: #161616;
            color: white;
            line-height: 50px;
            text-align: center;
        }

        h4 {
            margin-left: 15px;
        }

        h5 {
            margin-left: 30px;
        }

        footer {
            width: 100%;
            height: 50px;
            background-color: #dddddd;
        }
    </style>
</body>
</html>